<!-- HTML header for doxygen 1.9.3-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastLED: /home/runner/work/FastLED/FastLED/examples/FxWave2d/wavefx.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../fastled_logo.png" type="image/svg+xml" rel="shortcut icon" />
<link href="../../style.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript">DoxygenAwesomeDarkModeToggle.init()</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FastLED<span id="projectnumber">&#160;3.9.15</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/d29/wavefx_8cpp_source.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">wavefx.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="../../d9/d29/wavefx_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span> </div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment">/*</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment">This demo is best viewed using the FastLED compiler.</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"></span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment">Windows/MacOS binaries: https://github.com/FastLED/FastLED/releases</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"></span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment">Python</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"></span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment">Install: pip install fastled</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment">Run: fastled &lt;this sketch directory&gt;</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment">This will compile and preview the sketch in the browser, and enable</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment">all the UI elements you see below.</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"></span> </div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment">OVERVIEW:</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment">This sketch demonstrates a 2D wave simulation with multiple layers and blending effects.</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span><span class="comment">It creates ripple effects that propagate across the LED matrix, similar to water waves.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="comment">The demo includes two wave layers (upper and lower) with different colors and properties,</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="comment">which are blended together to create complex visual effects.</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="comment">*/</span></div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span> </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span><span class="preprocessor">#include &lt;Arduino.h&gt;</span>      <span class="comment">// Core Arduino functionality</span></div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span><span class="preprocessor">#include &lt;<a class="code" href="../../db/d97/_fast_l_e_d_8h.html">FastLED.h</a>&gt;</span>      <span class="comment">// Main FastLED library for controlling LEDs</span></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span><span class="preprocessor">#if SKETCH_HAS_LOTS_OF_MEMORY</span></div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span> </div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span><span class="preprocessor">#include &quot;<a class="code" href="../../d8/db8/math__macros_8h.html">fl/math_macros.h</a>&quot;</span>  <span class="comment">// Math helper functions and macros</span></div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span><span class="preprocessor">#include &quot;<a class="code" href="../../d0/d87/time__alpha_8h.html">fl/time_alpha.h</a>&quot;</span>   <span class="comment">// Time-based alpha/transition effects</span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span><span class="preprocessor">#include &quot;<a class="code" href="../../d9/d3b/ui_8h.html">fl/ui.h</a>&quot;</span>           <span class="comment">// UI components for the FastLED web compiler</span></div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span><span class="preprocessor">#include &quot;<a class="code" href="../../d8/d4e/blend_8h.html">fx/2d/blend.h</a>&quot;</span>     <span class="comment">// 2D blending effects between layers</span></div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span><span class="preprocessor">#include &quot;<a class="code" href="../../de/de9/src_2fx_22d_2wave_8h.html">fx/2d/wave.h</a>&quot;</span>      <span class="comment">// 2D wave simulation</span></div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span><span class="preprocessor">#include &quot;<a class="code" href="../../dc/d83/wavefx_8h.html">wavefx.h</a>&quot;</span>  <span class="comment">// Header file for this sketch</span></div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span><span class="keyword">using namespace </span><a class="code hl_namespace" href="../../d4/d36/namespacefl.html">fl</a>;        <span class="comment">// Use the FastLED namespace for convenience</span></div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span> </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span> </div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span><span class="comment">// Array to hold all LED color values - one CRGB struct per LED</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span><a class="code hl_struct" href="../../d7/d82/struct_c_r_g_b.html">CRGB</a> <a class="code hl_variable" href="../../d8/d21/_adafruit_bridge_8ino_a1b4f26a01e11d7eb2848bc41b0f6dd9d.html#a1b4f26a01e11d7eb2848bc41b0f6dd9d">leds</a>[<a class="code hl_define" href="../../d8/d21/_adafruit_bridge_8ino_a4c4ae9a4146ce8d6a5debc90300d9abd.html#a4c4ae9a4146ce8d6a5debc90300d9abd">NUM_LEDS</a>];</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span> </div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span><span class="comment">// UI elements that appear in the FastLED web compiler interface:</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span><a class="code hl_class" href="../../d9/d82/classfl_1_1_u_i_title.html">UITitle</a> <a class="code hl_function" href="../../da/dc7/advanced_8h_a4a1f1d5914e416792e11ee3edffc6748.html#a4a1f1d5914e416792e11ee3edffc6748">title</a>(<span class="stringliteral">&quot;FxWave2D Demo&quot;</span>);</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span><a class="code hl_class" href="../../de/d86/classfl_1_1_u_i_description.html">UIDescription</a> <a class="code hl_function" href="../../da/dc7/advanced_8h_a54cf14e3dee29084d589018a9bb7a04e.html#a54cf14e3dee29084d589018a9bb7a04e">description</a>(<span class="stringliteral">&quot;Advanced layered and blended wave effects.&quot;</span>);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><a class="code hl_class" href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">UICheckbox</a> <a class="code hl_function" href="../../d5/d94/_wave2d_8h_a7e65311e6ea71eef029422a1873b9c79.html#a7e65311e6ea71eef029422a1873b9c79">xCyclical</a>(<span class="stringliteral">&quot;X Is Cyclical&quot;</span>, <span class="keyword">false</span>);  <span class="comment">// If true, waves wrap around the x-axis (like a loop)</span></div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span><span class="comment">// Main control UI elements:</span></div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><a class="code hl_class" href="../../d3/d1d/classfl_1_1_u_i_button.html">UIButton</a> <a class="code hl_function" href="../../d7/da1/old_8h_a1aba00ccb05d318eedbdb922d076f3e6.html#a1aba00ccb05d318eedbdb922d076f3e6">button</a>(<span class="stringliteral">&quot;Trigger&quot;</span>);                                  <span class="comment">// Button to trigger a single ripple</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><a class="code hl_class" href="../../d3/d1d/classfl_1_1_u_i_button.html">UIButton</a> buttonFancy(<span class="stringliteral">&quot;Trigger Fancy&quot;</span>);                       <span class="comment">// Button to trigger a fancy cross-shaped effect</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span><a class="code hl_class" href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">UICheckbox</a> <a class="code hl_function" href="../../d5/d94/_wave2d_8h_a4888587ada6e64ef92a816ee12037584.html#a4888587ada6e64ef92a816ee12037584">autoTrigger</a>(<span class="stringliteral">&quot;Auto Trigger&quot;</span>, <span class="keyword">true</span>);                <span class="comment">// Enable/disable automatic ripple triggering</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> triggerSpeed(<span class="stringliteral">&quot;Trigger Speed&quot;</span>, .5f, 0.0f, 1.0f, 0.01f); <span class="comment">// Controls how frequently auto-triggers happen (lower = faster)</span></div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span><a class="code hl_class" href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">UICheckbox</a> easeModeSqrt(<span class="stringliteral">&quot;Ease Mode Sqrt&quot;</span>, <span class="keyword">false</span>);            <span class="comment">// Changes how wave heights are calculated (sqrt gives more natural waves)</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span><a class="code hl_class" href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">UICheckbox</a> useChangeGrid(<span class="stringliteral">&quot;Use Change Grid&quot;</span>, <span class="keyword">false</span>);           <span class="comment">// Enable performance optimization (reduces visual oscillation)</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> blurAmount(<span class="stringliteral">&quot;Global Blur Amount&quot;</span>, 0, 0, 172, 1);     <span class="comment">// Controls overall blur amount for all layers</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> blurPasses(<span class="stringliteral">&quot;Global Blur Passes&quot;</span>, 1, 1, 10, 1);      <span class="comment">// Controls how many times blur is applied (more = smoother but slower)</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> <a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_aa9be298a86379d387b10e37b53bc3e3d.html#aa9be298a86379d387b10e37b53bc3e3d">superSample</a>(<span class="stringliteral">&quot;SuperSampleExponent&quot;</span>, 1.f, 0.f, 3.f, 1.f); <span class="comment">// Controls anti-aliasing quality (higher = better quality but more CPU)</span></div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span> </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span> </div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="comment">// Upper wave layer controls:</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> speedUpper(<span class="stringliteral">&quot;Wave Upper: Speed&quot;</span>, 0.12f, 0.0f, 1.0f);           <span class="comment">// How fast the upper wave propagates</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> dampeningUpper(<span class="stringliteral">&quot;Wave Upper: Dampening&quot;</span>, 8.9f, 0.0f, 20.0f, 0.1f); <span class="comment">// How quickly the upper wave loses energy</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><a class="code hl_class" href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">UICheckbox</a> halfDuplexUpper(<span class="stringliteral">&quot;Wave Upper: Half Duplex&quot;</span>, <span class="keyword">true</span>);           <span class="comment">// If true, waves only go positive (not negative)</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> blurAmountUpper(<span class="stringliteral">&quot;Wave Upper: Blur Amount&quot;</span>, 95, 0, 172, 1);    <span class="comment">// Blur amount for upper wave layer</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> blurPassesUpper(<span class="stringliteral">&quot;Wave Upper: Blur Passes&quot;</span>, 1, 1, 10, 1);      <span class="comment">// Blur passes for upper wave layer</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="comment">// Lower wave layer controls:</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> speedLower(<span class="stringliteral">&quot;Wave Lower: Speed&quot;</span>, 0.26f, 0.0f, 1.0f);           <span class="comment">// How fast the lower wave propagates</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> dampeningLower(<span class="stringliteral">&quot;Wave Lower: Dampening&quot;</span>, 9.0f, 0.0f, 20.0f, 0.1f); <span class="comment">// How quickly the lower wave loses energy</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><a class="code hl_class" href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">UICheckbox</a> halfDuplexLower(<span class="stringliteral">&quot;Wave Lower: Half Duplex&quot;</span>, <span class="keyword">true</span>);           <span class="comment">// If true, waves only go positive (not negative)</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> blurAmountLower(<span class="stringliteral">&quot;Wave Lower: Blur Amount&quot;</span>, 0, 0, 172, 1);     <span class="comment">// Blur amount for lower wave layer</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> blurPassesLower(<span class="stringliteral">&quot;Wave Lower: Blur Passes&quot;</span>, 1, 1, 10, 1);      <span class="comment">// Blur passes for lower wave layer</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="comment">// Fancy effect controls (for the cross-shaped effect):</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> fancySpeed(<span class="stringliteral">&quot;Fancy Speed&quot;</span>, 796, 0, 1000, 1);                   <span class="comment">// Speed of the fancy effect animation</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> fancyIntensity(<span class="stringliteral">&quot;Fancy Intensity&quot;</span>, 32, 1, 255, 1);             <span class="comment">// Intensity/height of the fancy effect waves</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><a class="code hl_class" href="../../dd/d47/classfl_1_1_u_i_slider.html">UISlider</a> fancyParticleSpan(<span class="stringliteral">&quot;Fancy Particle Span&quot;</span>, 0.06f, 0.01f, 0.2f, 0.01f); <span class="comment">// Width of the fancy effect lines</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="comment">// Help text explaining the Use Change Grid feature</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><a class="code hl_class" href="../../df/d0e/classfl_1_1_u_i_help.html">UIHelp</a> changeGridHelp(<span class="stringliteral">&quot;Use Change Grid preserves the set point over multiple iterations to ensure more stable results across simulation resolutions. However, turning it off may result in more dramatic effects and saves memory.&quot;</span>);</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span> </div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="comment">// Color palettes define the gradient of colors used for the wave effects</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="comment">// Each entry has the format: position (0-255), R, G, B</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span> </div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><a class="code hl_define" href="../../d1/dfb/colorutils_8h_a180d83b9f32efe5825c8612fa8720d79.html#a180d83b9f32efe5825c8612fa8720d79">DEFINE_GRADIENT_PALETTE</a>(electricBlueFirePal){</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    0,   0,   0,   0,   <span class="comment">// Black (lowest wave height)</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    32,  0,   0,   70,  <span class="comment">// Dark blue (low wave height)</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    128, 20,  57,  255, <span class="comment">// Electric blue (medium wave height)</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>    255, 255, 255, 255  <span class="comment">// White (maximum wave height)</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>};</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span> </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><a class="code hl_define" href="../../d1/dfb/colorutils_8h_a180d83b9f32efe5825c8612fa8720d79.html#a180d83b9f32efe5825c8612fa8720d79">DEFINE_GRADIENT_PALETTE</a>(electricGreenFirePal){</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>    0,   0,   0,   0,   <span class="comment">// Black (lowest wave height)</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>    8,   128, 64,  64,  <span class="comment">// Green with red tint (very low wave height)</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    16,  255, 222, 222, <span class="comment">// Pinkish red (low wave height)</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>    64,  255, 255, 255, <span class="comment">// White (medium wave height)</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    255, 255, 255, 255  <span class="comment">// White (maximum wave height)</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>};</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span> </div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="comment">// Create mappings between 1D array positions and 2D x,y coordinates</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><a class="code hl_class" href="../../d0/dce/classfl_1_1_x_y_map.html">XYMap</a> <a class="code hl_variable" href="../../db/df4/_color_boost_8h_a21389841876f0e37ca08ab26d211736c.html#a21389841876f0e37ca08ab26d211736c">xyMap</a>(<a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a>, <a class="code hl_define" href="../../da/dc7/advanced_8h_aed89bd71aee8be823e8a20ec4e093c1e.html#aed89bd71aee8be823e8a20ec4e093c1e">HEIGHT</a>, <a class="code hl_define" href="../../db/d49/_audio_2simple_2simple_8h_aaef57fab56b804d85580f89cc5309d4d.html#aaef57fab56b804d85580f89cc5309d4d">IS_SERPINTINE</a>);  <span class="comment">// For the actual LED output (may be serpentine)</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><a class="code hl_class" href="../../d0/dce/classfl_1_1_x_y_map.html">XYMap</a> xyRect(<a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a>, <a class="code hl_define" href="../../da/dc7/advanced_8h_aed89bd71aee8be823e8a20ec4e093c1e.html#aed89bd71aee8be823e8a20ec4e093c1e">HEIGHT</a>, <span class="keyword">false</span>);         <span class="comment">// For the wave simulation (always rectangular grid)</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="comment">// Create default configuration for the lower wave layer</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><a class="code hl_typedef" href="../../d6/d5f/classfl_1_1_wave_fx_a95c9a65bf6147be56b0dc1c96a031627.html#a95c9a65bf6147be56b0dc1c96a031627">WaveFx::Args</a> <a class="code hl_function" href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_a9c851c66f2e46b214500ec6c3722b9a4.html#a9c851c66f2e46b214500ec6c3722b9a4">CreateArgsLower</a>() {</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <a class="code hl_typedef" href="../../d6/d5f/classfl_1_1_wave_fx_a95c9a65bf6147be56b0dc1c96a031627.html#a95c9a65bf6147be56b0dc1c96a031627">WaveFx::Args</a> out;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a4ccef0276bac38adb044a29f9ff20039.html#a4ccef0276bac38adb044a29f9ff20039">factor</a> = <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a1e910f180f77f3704a8066db79cd6111">SuperSample::SUPER_SAMPLE_2X</a>;  <span class="comment">// 2x supersampling for smoother waves</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_aab1c5816b5558e6ceb34ac1d4f4f3582.html#aab1c5816b5558e6ceb34ac1d4f4f3582">half_duplex</a> = <span class="keyword">true</span>;                     <span class="comment">// Only positive waves (no negative values)</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a31d87fcefb3cc18bc7024d421a39f79f.html#a31d87fcefb3cc18bc7024d421a39f79f">auto_updates</a> = <span class="keyword">true</span>;                    <span class="comment">// Automatically update the simulation each frame</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a0ba93ec8982cb69fdfcfa1a012a5c695.html#a0ba93ec8982cb69fdfcfa1a012a5c695">speed</a> = 0.18f;                          <span class="comment">// Wave propagation speed</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a680195f7dd128c7998081f286fea1f3c.html#a680195f7dd128c7998081f286fea1f3c">dampening</a> = 9.0f;                       <span class="comment">// How quickly waves lose energy</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a30fa1939e7ca3777e23f7e7be3156c1c.html#a30fa1939e7ca3777e23f7e7be3156c1c">crgbMap</a> = <a class="code hl_function" href="../../d4/d36/namespacefl_a87ae8a24cc8b709a64f39370e71846af.html#a87ae8a24cc8b709a64f39370e71846af">fl::make_shared&lt;WaveCrgbGradientMap&gt;</a>(electricBlueFirePal);  <span class="comment">// Color palette for this wave</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    <span class="keywordflow">return</span> out;</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>}</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span> </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="comment">// Create default configuration for the upper wave layer</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><a class="code hl_typedef" href="../../d6/d5f/classfl_1_1_wave_fx_a95c9a65bf6147be56b0dc1c96a031627.html#a95c9a65bf6147be56b0dc1c96a031627">WaveFx::Args</a> <a class="code hl_function" href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_afab48463dd09a75d6a518ac33378eda4.html#afab48463dd09a75d6a518ac33378eda4">CreateArgsUpper</a>() {</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    <a class="code hl_typedef" href="../../d6/d5f/classfl_1_1_wave_fx_a95c9a65bf6147be56b0dc1c96a031627.html#a95c9a65bf6147be56b0dc1c96a031627">WaveFx::Args</a> out;</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a4ccef0276bac38adb044a29f9ff20039.html#a4ccef0276bac38adb044a29f9ff20039">factor</a> = <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a1e910f180f77f3704a8066db79cd6111">SuperSample::SUPER_SAMPLE_2X</a>;  <span class="comment">// 2x supersampling for smoother waves</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_aab1c5816b5558e6ceb34ac1d4f4f3582.html#aab1c5816b5558e6ceb34ac1d4f4f3582">half_duplex</a> = <span class="keyword">true</span>;                     <span class="comment">// Only positive waves (no negative values)</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a31d87fcefb3cc18bc7024d421a39f79f.html#a31d87fcefb3cc18bc7024d421a39f79f">auto_updates</a> = <span class="keyword">true</span>;                    <span class="comment">// Automatically update the simulation each frame</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a0ba93ec8982cb69fdfcfa1a012a5c695.html#a0ba93ec8982cb69fdfcfa1a012a5c695">speed</a> = 0.25f;                          <span class="comment">// Wave propagation speed (faster than lower)</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a680195f7dd128c7998081f286fea1f3c.html#a680195f7dd128c7998081f286fea1f3c">dampening</a> = 3.0f;                       <span class="comment">// How quickly waves lose energy (less than lower)</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    out.<a class="code hl_variable" href="../../d3/da2/structfl_1_1_wave_fx_args_a30fa1939e7ca3777e23f7e7be3156c1c.html#a30fa1939e7ca3777e23f7e7be3156c1c">crgbMap</a> = <a class="code hl_function" href="../../d4/d36/namespacefl_a87ae8a24cc8b709a64f39370e71846af.html#a87ae8a24cc8b709a64f39370e71846af">fl::make_shared&lt;WaveCrgbGradientMap&gt;</a>(electricGreenFirePal);  <span class="comment">// Color palette for this wave</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>    <span class="keywordflow">return</span> out;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>}</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="comment">// Create the two wave simulation layers with their default configurations</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><a class="code hl_class" href="../../d6/d5f/classfl_1_1_wave_fx.html">WaveFx</a> waveFxLower(xyRect, <a class="code hl_function" href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_a9c851c66f2e46b214500ec6c3722b9a4.html#a9c851c66f2e46b214500ec6c3722b9a4">CreateArgsLower</a>());  <span class="comment">// Lower/background wave layer (blue)</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><a class="code hl_class" href="../../d6/d5f/classfl_1_1_wave_fx.html">WaveFx</a> waveFxUpper(xyRect, <a class="code hl_function" href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_afab48463dd09a75d6a518ac33378eda4.html#afab48463dd09a75d6a518ac33378eda4">CreateArgsUpper</a>());  <span class="comment">// Upper/foreground wave layer (green/red)</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span> </div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="comment">// Create a blender that will combine the two wave layers</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><a class="code hl_class" href="../../dc/d2b/classfl_1_1_blend2d.html">Blend2d</a> fxBlend(<a class="code hl_variable" href="../../db/df4/_color_boost_8h_a21389841876f0e37ca08ab26d211736c.html#a21389841876f0e37ca08ab26d211736c">xyMap</a>);</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span> </div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span> </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="comment">// Convert the UI slider value to the appropriate SuperSample enum value</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="comment">// SuperSample controls the quality of the wave simulation (higher = better quality but more CPU)</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><a class="code hl_enumeration" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6">SuperSample</a> <a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_ad3facb26c8fe2270d260a10ea9aceb09.html#ad3facb26c8fe2270d260a10ea9aceb09">getSuperSample</a>() {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    <span class="keywordflow">switch</span> (<span class="keywordtype">int</span>(<a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_aa9be298a86379d387b10e37b53bc3e3d.html#aa9be298a86379d387b10e37b53bc3e3d">superSample</a>)) {</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6af213904fd17b4c9630581686d2e4ca89">SuperSample::SUPER_SAMPLE_NONE</a>;  <span class="comment">// No supersampling (fastest, lowest quality)</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>    <span class="keywordflow">case</span> 1:</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a1e910f180f77f3704a8066db79cd6111">SuperSample::SUPER_SAMPLE_2X</a>;    <span class="comment">// 2x supersampling (2x2 grid = 4 samples per pixel)</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>    <span class="keywordflow">case</span> 2:</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a24072aca92c61bd88948f7118d96c21b">SuperSample::SUPER_SAMPLE_4X</a>;    <span class="comment">// 4x supersampling (4x4 grid = 16 samples per pixel)</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a086e36ad906a8ab6071172529675ff3e">SuperSample::SUPER_SAMPLE_8X</a>;    <span class="comment">// 8x supersampling (8x8 grid = 64 samples per pixel, slowest)</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6af213904fd17b4c9630581686d2e4ca89">SuperSample::SUPER_SAMPLE_NONE</a>;  <span class="comment">// Default fallback</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>    }</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>}</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span> </div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="comment">// Create a ripple effect at a random position within the central area of the display</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_a6abe41ca388c9afca0fda9ae263570b2.html#a6abe41ca388c9afca0fda9ae263570b2">triggerRipple</a>() {</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>    <span class="comment">// Define a margin percentage to keep ripples away from the edges</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>    <span class="keywordtype">float</span> perc = .15f;</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>    </div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>    <span class="comment">// Calculate the boundaries for the ripple (15% from each edge)</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>    uint8_t min_x = perc * <a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a>;          <span class="comment">// Left boundary</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>    uint8_t max_x = (1 - perc) * <a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a>;    <span class="comment">// Right boundary</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>    uint8_t min_y = perc * <a class="code hl_define" href="../../da/dc7/advanced_8h_aed89bd71aee8be823e8a20ec4e093c1e.html#aed89bd71aee8be823e8a20ec4e093c1e">HEIGHT</a>;         <span class="comment">// Top boundary</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>    uint8_t max_y = (1 - perc) * <a class="code hl_define" href="../../da/dc7/advanced_8h_aed89bd71aee8be823e8a20ec4e093c1e.html#aed89bd71aee8be823e8a20ec4e093c1e">HEIGHT</a>;   <span class="comment">// Bottom boundary</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>    <span class="comment">// Generate a random position within these boundaries</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> = random(min_x, max_x);</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    <span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = random(min_y, max_y);</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>    </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>    <span class="comment">// Set a wave peak at this position in both wave layers</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    <span class="comment">// The value 1.0 represents the maximum height of the wave</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    waveFxLower.setf(<a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, 1);  <span class="comment">// Create ripple in lower layer</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>    waveFxUpper.setf(<a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, 1);  <span class="comment">// Create ripple in upper layer</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>}</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span> </div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="comment">// Create a fancy cross-shaped effect that expands from the center</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="keywordtype">void</span> applyFancyEffect(uint32_t now, <span class="keywordtype">bool</span> button_active) {</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>    <span class="comment">// Calculate the total animation duration based on the speed slider</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>    <span class="comment">// Higher fancySpeed value = shorter duration (faster animation)</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>    uint32_t total =</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        map(fancySpeed.as&lt;uint32_t&gt;(), 0, fancySpeed.getMax(), 1000, 100);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>    </div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>    <span class="comment">// Create a static TimeRamp to manage the animation timing</span></div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>    <span class="comment">// TimeRamp handles the transition from start to end over time</span></div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>    <span class="keyword">static</span> <a class="code hl_class" href="../../d0/d9d/classfl_1_1_time_ramp.html">TimeRamp</a> pointTransition = <a class="code hl_class" href="../../d0/d9d/classfl_1_1_time_ramp.html">TimeRamp</a>(total, 0, 0);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>    <span class="comment">// If the button is active, start/restart the animation</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>    <span class="keywordflow">if</span> (button_active) {</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        pointTransition.<a class="code hl_function" href="../../d0/d9d/classfl_1_1_time_ramp_a9f0b72e7ed74128fee2becc745d2ab72.html#a9f0b72e7ed74128fee2becc745d2ab72">trigger</a>(now, total, 0, 0);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    }</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>    <span class="comment">// If the animation isn&#39;t currently active, exit early</span></div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    <span class="keywordflow">if</span> (!pointTransition.<a class="code hl_function" href="../../d0/d9d/classfl_1_1_time_ramp_aa86982c4d0ae7393bd86c0b5959c5b10.html#aa86982c4d0ae7393bd86c0b5959c5b10">isActive</a>(now)) {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        <span class="comment">// no need to draw</span></div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>    }</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>    </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>    <span class="comment">// Find the center of the display</span></div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>    <span class="keywordtype">int</span> mid_x = <a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a> / 2;</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>    <span class="keywordtype">int</span> mid_y = <a class="code hl_define" href="../../da/dc7/advanced_8h_aed89bd71aee8be823e8a20ec4e093c1e.html#aed89bd71aee8be823e8a20ec4e093c1e">HEIGHT</a> / 2;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>    </div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>    <span class="comment">// Calculate the maximum distance from center (half the width)</span></div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>    <span class="keywordtype">int</span> amount = <a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a> / 2;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>    </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>    <span class="comment">// Calculate the start and end coordinates for the cross</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>    <span class="keywordtype">int</span> start_x = mid_x - amount;  <span class="comment">// Leftmost point</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>    <span class="keywordtype">int</span> end_x = mid_x + amount;    <span class="comment">// Rightmost point</span></div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>    <span class="keywordtype">int</span> start_y = mid_y - amount;  <span class="comment">// Topmost point</span></div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>    <span class="keywordtype">int</span> end_y = mid_y + amount;    <span class="comment">// Bottommost point</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>    </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>    <span class="comment">// Get the current animation progress (0-255)</span></div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>    <span class="keywordtype">int</span> curr_alpha = pointTransition.<a class="code hl_function" href="../../d0/d9d/classfl_1_1_time_ramp_aa060cb7edcafe345e03bfac190e98fe4.html#aa060cb7edcafe345e03bfac190e98fe4">update8</a>(now);</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>    </div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>    <span class="comment">// Map the animation progress to the four points of the expanding cross</span></div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>    <span class="comment">// As curr_alpha increases from 0 to 255, these points move from center to edges</span></div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>    <span class="keywordtype">int</span> left_x = map(curr_alpha, 0, 255, mid_x, start_x);  <span class="comment">// Center to left</span></div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>    <span class="keywordtype">int</span> down_y = map(curr_alpha, 0, 255, mid_y, start_y);  <span class="comment">// Center to top</span></div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>    <span class="keywordtype">int</span> right_x = map(curr_alpha, 0, 255, mid_x, end_x);   <span class="comment">// Center to right</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>    <span class="keywordtype">int</span> up_y = map(curr_alpha, 0, 255, mid_y, end_y);      <span class="comment">// Center to bottom</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span> </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>    <span class="comment">// Convert the 0-255 alpha to 0.0-1.0 range</span></div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>    <span class="keywordtype">float</span> curr_alpha_f = curr_alpha / 255.0f;</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>    <span class="comment">// Calculate the wave height value - starts high and decreases as animation progresses</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>    <span class="comment">// This makes the waves stronger at the beginning of the animation</span></div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    <span class="keywordtype">float</span> valuef = (1.0f - curr_alpha_f) * fancyIntensity.value() / 255.0f;</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>    <span class="comment">// Calculate the width of the cross lines</span></div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a> = fancyParticleSpan.value() * <a class="code hl_define" href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a>;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>    </div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>    <span class="comment">// Add wave energy along the four expanding lines of the cross</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>    <span class="comment">// Each line is a horizontal or vertical span of pixels</span></div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>    </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    <span class="comment">// Left-moving horizontal line</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> = left_x - <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> &lt; left_x + <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>++) {</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>        waveFxLower.addf(<a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, mid_y, valuef);  <span class="comment">// Add to lower layer</span></div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>        waveFxUpper.addf(<a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, mid_y, valuef);  <span class="comment">// Add to upper layer</span></div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>    }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>    <span class="comment">// Right-moving horizontal line</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> = right_x - <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a> &lt; right_x + <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>++) {</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        waveFxLower.addf(<a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, mid_y, valuef);</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>        waveFxUpper.addf(<a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a>, mid_y, valuef);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>    }</div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span> </div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>    <span class="comment">// Downward-moving vertical line</span></div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = down_y - <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> &lt; down_y + <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>++) {</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>        waveFxLower.addf(mid_x, <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, valuef);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>        waveFxUpper.addf(mid_x, <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, valuef);</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>    }</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span> </div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>    <span class="comment">// Upward-moving vertical line</span></div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> = up_y - <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a> &lt; up_y + <a class="code hl_typedef" href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">span</a>; <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>++) {</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        waveFxLower.addf(mid_x, <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, valuef);</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        waveFxUpper.addf(mid_x, <a class="code hl_variable" href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a>, valuef);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>    }</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>}</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span> </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span><span class="comment">// Structure to hold the state of UI buttons</span></div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span><span class="keyword">struct </span><a class="code hl_struct" href="../../da/db7/structui__state.html">ui_state</a> {</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="../../d7/da1/old_8h_a1aba00ccb05d318eedbdb922d076f3e6.html#a1aba00ccb05d318eedbdb922d076f3e6">button</a> = <span class="keyword">false</span>;     <span class="comment">// Regular ripple button state</span></div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>    <span class="keywordtype">bool</span> bigButton = <span class="keyword">false</span>;  <span class="comment">// Fancy effect button state</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>};</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span><span class="comment">// Apply all UI settings to the wave effects and return button states</span></div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span><a class="code hl_struct" href="../../da/db7/structui__state.html">ui_state</a> ui() {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>    <span class="comment">// Set the easing function based on the checkbox</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>    <span class="comment">// Easing controls how wave heights are calculated:</span></div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>    <span class="comment">// - LINEAR: Simple linear mapping (sharper waves)</span></div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>    <span class="comment">// - SQRT: Square root mapping (more natural, rounded waves)</span></div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>    <a class="code hl_enumeration" href="../../d4/d36/namespacefl_a351456da7166b4fdf8e1ea8c9c333517.html#a351456da7166b4fdf8e1ea8c9c333517">U8EasingFunction</a> easeMode = easeModeSqrt</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>                                    ? <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_a351456da7166b4fdf8e1ea8c9c333517.html#a351456da7166b4fdf8e1ea8c9c333517aebe90d9386335a6f83dd651108cc83c7">U8EasingFunction::WAVE_U8_MODE_SQRT</a></div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>                                    : <a class="code hl_enumvalue" href="../../d4/d36/namespacefl_a351456da7166b4fdf8e1ea8c9c333517.html#a351456da7166b4fdf8e1ea8c9c333517a0cf5c24d21781176aa004b1c99a2bd83">U8EasingFunction::WAVE_U8_MODE_LINEAR</a>;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>    </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>    <span class="comment">// Apply all settings from UI controls to the lower wave layer</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    waveFxLower.setSpeed(speedLower);              <span class="comment">// Wave propagation speed</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    waveFxLower.setDampening(dampeningLower);      <span class="comment">// How quickly waves lose energy</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>    waveFxLower.setHalfDuplex(halfDuplexLower);    <span class="comment">// Whether waves can go negative</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>    waveFxLower.setSuperSample(<a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_ad3facb26c8fe2270d260a10ea9aceb09.html#ad3facb26c8fe2270d260a10ea9aceb09">getSuperSample</a>());  <span class="comment">// Anti-aliasing quality</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>    waveFxLower.setEasingMode(easeMode);           <span class="comment">// Wave height calculation method</span></div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>    waveFxLower.setUseChangeGrid(useChangeGrid);   <span class="comment">// Performance optimization vs visual quality</span></div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span> </div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>    <span class="comment">// Apply all settings from UI controls to the upper wave layer</span></div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>    waveFxUpper.setSpeed(speedUpper);              <span class="comment">// Wave propagation speed</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>    waveFxUpper.setDampening(dampeningUpper);      <span class="comment">// How quickly waves lose energy</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>    waveFxUpper.setHalfDuplex(halfDuplexUpper);    <span class="comment">// Whether waves can go negative</span></div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>    waveFxUpper.setSuperSample(<a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_ad3facb26c8fe2270d260a10ea9aceb09.html#ad3facb26c8fe2270d260a10ea9aceb09">getSuperSample</a>());  <span class="comment">// Anti-aliasing quality</span></div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>    waveFxUpper.setEasingMode(easeMode);           <span class="comment">// Wave height calculation method</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>    waveFxUpper.setUseChangeGrid(useChangeGrid);   <span class="comment">// Performance optimization vs visual quality</span></div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>    </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>    <span class="comment">// Apply global blur settings to the blender</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>    fxBlend.setGlobalBlurAmount(blurAmount);       <span class="comment">// Overall blur strength</span></div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>    fxBlend.setGlobalBlurPasses(blurPasses);       <span class="comment">// Number of blur passes</span></div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span> </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>    <span class="comment">// Create parameter structures for each wave layer&#39;s blur settings</span></div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>    <a class="code hl_struct" href="../../d4/d36/namespacefl.html#d2/dd0/structfl_1_1_blend2d_params">fl::Blend2dParams</a> lower_params;</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>    lower_params.<a class="code hl_variable" href="../../d4/d36/namespacefl.html#aa8e7a7596e6a08db1234c053de9e776e">blur_amount</a> = blurAmountLower;    <span class="comment">// Blur amount for lower layer</span></div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>    lower_params.<a class="code hl_variable" href="../../d4/d36/namespacefl.html#aa84dbce9ae5541d688d3c97dab2e5c46">blur_passes</a> = blurPassesLower;    <span class="comment">// Blur passes for lower layer</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span> </div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>    <a class="code hl_struct" href="../../d4/d36/namespacefl.html#d2/dd0/structfl_1_1_blend2d_params">fl::Blend2dParams</a> upper_params;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>    upper_params.<a class="code hl_variable" href="../../d4/d36/namespacefl.html#aa8e7a7596e6a08db1234c053de9e776e">blur_amount</a> = blurAmountUpper;    <span class="comment">// Blur amount for upper layer</span></div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>    upper_params.<a class="code hl_variable" href="../../d4/d36/namespacefl.html#aa84dbce9ae5541d688d3c97dab2e5c46">blur_passes</a> = blurPassesUpper;    <span class="comment">// Blur passes for upper layer</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span> </div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>    <span class="comment">// Apply the layer-specific blur parameters</span></div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>    fxBlend.setParams(waveFxLower, lower_params);</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>    fxBlend.setParams(waveFxUpper, upper_params);</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>    </div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>    <span class="comment">// Return the current state of the UI buttons</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    <a class="code hl_struct" href="../../da/db7/structui__state.html">ui_state</a> state;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>    state.button = <a class="code hl_function" href="../../d7/da1/old_8h_a1aba00ccb05d318eedbdb922d076f3e6.html#a1aba00ccb05d318eedbdb922d076f3e6">button</a>;         <span class="comment">// Regular ripple button</span></div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>    state.bigButton = buttonFancy; <span class="comment">// Fancy effect button</span></div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    <span class="keywordflow">return</span> state;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>}</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span><span class="comment">// Handle automatic triggering of ripples at random intervals</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span><span class="keywordtype">void</span> processAutoTrigger(uint32_t now) {</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>    <span class="comment">// Static variable to remember when the next auto-trigger should happen</span></div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>    <span class="keyword">static</span> uint32_t nextTrigger = 0;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>    </div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>    <span class="comment">// Calculate time until next trigger</span></div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>    uint32_t trigger_delta = nextTrigger - now;</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>    </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>    <span class="comment">// Handle timer overflow (happens after ~49 days of continuous running)</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>    <span class="keywordflow">if</span> (trigger_delta &gt; 10000) {</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>        <span class="comment">// If the delta is suspiciously large, we probably rolled over</span></div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>        trigger_delta = 0;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>    }</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>    </div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>    <span class="comment">// Only proceed if auto-trigger is enabled</span></div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d5/d94/_wave2d_8h_a4888587ada6e64ef92a816ee12037584.html#a4888587ada6e64ef92a816ee12037584">autoTrigger</a>) {</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>        <span class="comment">// Check if it&#39;s time for the next trigger</span></div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>        <span class="keywordflow">if</span> (now &gt;= nextTrigger) {</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            <span class="comment">// Create a ripple</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            <a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_a6abe41ca388c9afca0fda9ae263570b2.html#a6abe41ca388c9afca0fda9ae263570b2">triggerRipple</a>();</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            </div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            <span class="comment">// Calculate the next trigger time based on the speed slider</span></div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            <span class="comment">// Invert the speed value so higher slider = faster triggers</span></div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            <span class="keywordtype">float</span> <a class="code hl_variable" href="../../d6/d9d/_noise_8ino_a12633132d07532aac2bd05fa1d5c8a72.html#a12633132d07532aac2bd05fa1d5c8a72">speed</a> = 1.0f - triggerSpeed.value();</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>            </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            <span class="comment">// Calculate min and max random intervals</span></div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>            <span class="comment">// Higher speed = shorter intervals between triggers</span></div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>            uint32_t min_rand = 400 * <a class="code hl_variable" href="../../d6/d9d/_noise_8ino_a12633132d07532aac2bd05fa1d5c8a72.html#a12633132d07532aac2bd05fa1d5c8a72">speed</a>;   <span class="comment">// Minimum interval (milliseconds)</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            uint32_t max_rand = 2000 * <a class="code hl_variable" href="../../d6/d9d/_noise_8ino_a12633132d07532aac2bd05fa1d5c8a72.html#a12633132d07532aac2bd05fa1d5c8a72">speed</a>;  <span class="comment">// Maximum interval (milliseconds)</span></div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span> </div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>            <span class="comment">// Ensure min is actually less than max (handles edge cases)</span></div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>            uint32_t min = <a class="code hl_define" href="../../d8/db8/math__macros_8h_a3acffbd305ee72dcd4593c0d8af64a4f.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(min_rand, max_rand);</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            uint32_t max = <a class="code hl_define" href="../../d8/db8/math__macros_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(min_rand, max_rand);</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>            </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>            <span class="comment">// Ensure min and max aren&#39;t equal (would cause random() to crash)</span></div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>            <span class="keywordflow">if</span> (min == max) {</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>                max += 1;</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            }</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            </div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            <span class="comment">// Schedule the next trigger at a random time in the future</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            nextTrigger = now + random(min, max);</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        }</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>    }</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>}</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span> </div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d83/wavefx_8h_aa7e56c878f8b5a70abd4e271630d572e.html#aa7e56c878f8b5a70abd4e271630d572e">wavefx_setup</a>() {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>    <span class="comment">// Create a screen map for visualization in the FastLED web compiler</span></div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>    <span class="keyword">auto</span> screenmap = <a class="code hl_variable" href="../../db/df4/_color_boost_8h_a21389841876f0e37ca08ab26d211736c.html#a21389841876f0e37ca08ab26d211736c">xyMap</a>.toScreenMap();</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>    screenmap.setDiameter(.2);  <span class="comment">// Set the size of the LEDs in the visualization</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>    <span class="comment">// Initialize the LED strip:</span></div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>    <span class="comment">// - NEOPIXEL is the LED type</span></div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>    <span class="comment">// - 2 is the data pin number (for real hardware)</span></div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>    <span class="comment">// - setScreenMap connects our 2D coordinate system to the 1D LED array</span></div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>    <a class="code hl_variable" href="../../d6/dda/_fast_l_e_d_8cpp_a8e94985674086ea368e1d51cbc0f82a9.html#a8e94985674086ea368e1d51cbc0f82a9">FastLED</a>.addLeds&lt;<a class="code hl_class" href="../../d5/d5c/class_n_e_o_p_i_x_e_l.html">NEOPIXEL</a>, 2&gt;(<a class="code hl_variable" href="../../d8/d21/_adafruit_bridge_8ino_a1b4f26a01e11d7eb2848bc41b0f6dd9d.html#a1b4f26a01e11d7eb2848bc41b0f6dd9d">leds</a>, <a class="code hl_define" href="../../d8/d21/_adafruit_bridge_8ino_a4c4ae9a4146ce8d6a5debc90300d9abd.html#a4c4ae9a4146ce8d6a5debc90300d9abd">NUM_LEDS</a>).setScreenMap(screenmap);</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span> </div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    <span class="comment">// Set up UI groupings</span></div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>    <span class="comment">// Main Controls</span></div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>    <a class="code hl_function" href="../../da/dc7/advanced_8h_a4a1f1d5914e416792e11ee3edffc6748.html#a4a1f1d5914e416792e11ee3edffc6748">title</a>.setGroup(<span class="stringliteral">&quot;Main Controls&quot;</span>);</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    <a class="code hl_function" href="../../da/dc7/advanced_8h_a54cf14e3dee29084d589018a9bb7a04e.html#a54cf14e3dee29084d589018a9bb7a04e">description</a>.setGroup(<span class="stringliteral">&quot;Main Controls&quot;</span>);</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>    <a class="code hl_function" href="../../d7/da1/old_8h_a1aba00ccb05d318eedbdb922d076f3e6.html#a1aba00ccb05d318eedbdb922d076f3e6">button</a>.setGroup(<span class="stringliteral">&quot;Main Controls&quot;</span>);</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>    buttonFancy.setGroup(<span class="stringliteral">&quot;Main Controls&quot;</span>);</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>    <a class="code hl_function" href="../../d5/d94/_wave2d_8h_a4888587ada6e64ef92a816ee12037584.html#a4888587ada6e64ef92a816ee12037584">autoTrigger</a>.setGroup(<span class="stringliteral">&quot;Main Controls&quot;</span>);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>    triggerSpeed.setGroup(<span class="stringliteral">&quot;Main Controls&quot;</span>);</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span> </div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>    <span class="comment">// Global Settings</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    <a class="code hl_function" href="../../d5/d94/_wave2d_8h_a7e65311e6ea71eef029422a1873b9c79.html#a7e65311e6ea71eef029422a1873b9c79">xCyclical</a>.setGroup(<span class="stringliteral">&quot;Global Settings&quot;</span>);</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>    easeModeSqrt.setGroup(<span class="stringliteral">&quot;Global Settings&quot;</span>);</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>    useChangeGrid.setGroup(<span class="stringliteral">&quot;Global Settings&quot;</span>);</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    blurAmount.setGroup(<span class="stringliteral">&quot;Global Settings&quot;</span>);</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>    blurPasses.setGroup(<span class="stringliteral">&quot;Global Settings&quot;</span>);</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    <a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_aa9be298a86379d387b10e37b53bc3e3d.html#aa9be298a86379d387b10e37b53bc3e3d">superSample</a>.setGroup(<span class="stringliteral">&quot;Global Settings&quot;</span>);</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>    <span class="comment">// Upper Wave Layer</span></div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    speedUpper.setGroup(<span class="stringliteral">&quot;Upper Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>    dampeningUpper.setGroup(<span class="stringliteral">&quot;Upper Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    halfDuplexUpper.setGroup(<span class="stringliteral">&quot;Upper Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>    blurAmountUpper.setGroup(<span class="stringliteral">&quot;Upper Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>    blurPassesUpper.setGroup(<span class="stringliteral">&quot;Upper Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span> </div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    <span class="comment">// Lower Wave Layer</span></div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>    speedLower.setGroup(<span class="stringliteral">&quot;Lower Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>    dampeningLower.setGroup(<span class="stringliteral">&quot;Lower Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>    halfDuplexLower.setGroup(<span class="stringliteral">&quot;Lower Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>    blurAmountLower.setGroup(<span class="stringliteral">&quot;Lower Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>    blurPassesLower.setGroup(<span class="stringliteral">&quot;Lower Wave Layer&quot;</span>);</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span> </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    <span class="comment">// Fancy Effects</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>    fancySpeed.setGroup(<span class="stringliteral">&quot;Fancy Effects&quot;</span>);</div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>    fancyIntensity.setGroup(<span class="stringliteral">&quot;Fancy Effects&quot;</span>);</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>    fancyParticleSpan.setGroup(<span class="stringliteral">&quot;Fancy Effects&quot;</span>);</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>    <span class="comment">// Add both wave layers to the blender</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>    <span class="comment">// The order matters - lower layer is added first (background)</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>    fxBlend.add(waveFxLower);</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>    fxBlend.add(waveFxUpper);</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>}</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span> </div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span><span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d83/wavefx_8h_a87678ef92428a738638ade3dd0180335.html#a87678ef92428a738638ade3dd0180335">wavefx_loop</a>() {</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>    <span class="comment">// The main program loop that runs continuously</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>    </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>    <span class="comment">// Get the current time in milliseconds</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>    uint32_t now = millis();</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span> </div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>    <span class="comment">// set the x cyclical</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>    waveFxLower.setXCylindrical(<a class="code hl_function" href="../../d5/d94/_wave2d_8h_a7e65311e6ea71eef029422a1873b9c79.html#a7e65311e6ea71eef029422a1873b9c79">xCyclical</a>.value());  <span class="comment">// Set whether lower wave wraps around x-axis</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>    </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    <span class="comment">// Apply all UI settings and get button states</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>    <a class="code hl_struct" href="../../da/db7/structui__state.html">ui_state</a> state = ui();</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>    </div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>    <span class="comment">// Check if the regular ripple button was pressed</span></div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>    <span class="keywordflow">if</span> (state.button) {</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>        <a class="code hl_function" href="../../d8/d78/examples_2_wave_2wave_8h_a6abe41ca388c9afca0fda9ae263570b2.html#a6abe41ca388c9afca0fda9ae263570b2">triggerRipple</a>();  <span class="comment">// Create a single ripple</span></div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>    }</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>    </div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>    <span class="comment">// Apply the fancy cross effect if its button is pressed</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>    applyFancyEffect(now, state.bigButton);</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>    </div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span>    <span class="comment">// Handle automatic triggering of ripples</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>    processAutoTrigger(now);</div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>    </div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>    <span class="comment">// Create a drawing context with the current time and LED array</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span>    <a class="code hl_typedef" href="../../da/d5d/classfl_1_1_fx_a932d6e78e1afa4bb40cacefe1f01c97a.html#a932d6e78e1afa4bb40cacefe1f01c97a">Fx::DrawContext</a> ctx(now, <a class="code hl_variable" href="../../d8/d21/_adafruit_bridge_8ino_a1b4f26a01e11d7eb2848bc41b0f6dd9d.html#a1b4f26a01e11d7eb2848bc41b0f6dd9d">leds</a>);</div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>    </div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>    <span class="comment">// Draw the blended result of both wave layers to the LED array</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>    fxBlend.draw(ctx);</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>    </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>    <span class="comment">// Send the color data to the actual LEDs</span></div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>    <a class="code hl_variable" href="../../d6/dda/_fast_l_e_d_8cpp_a8e94985674086ea368e1d51cbc0f82a9.html#a8e94985674086ea368e1d51cbc0f82a9">FastLED</a>.show();</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>}</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span> </div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span><span class="preprocessor">#endif  </span><span class="comment">// SKETCH_HAS_LOTS_OF_MEMORY</span></div>
<div class="ttc" id="a_adafruit_bridge_8ino_a1b4f26a01e11d7eb2848bc41b0f6dd9d_html_a1b4f26a01e11d7eb2848bc41b0f6dd9d"><div class="ttname"><a href="../../d8/d21/_adafruit_bridge_8ino_a1b4f26a01e11d7eb2848bc41b0f6dd9d.html#a1b4f26a01e11d7eb2848bc41b0f6dd9d">leds</a></div><div class="ttdeci">CRGB leds[NUM_LEDS]</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d21/_adafruit_bridge_8ino_source.html#l00013">AdafruitBridge.ino:13</a></div></div>
<div class="ttc" id="a_adafruit_bridge_8ino_a4c4ae9a4146ce8d6a5debc90300d9abd_html_a4c4ae9a4146ce8d6a5debc90300d9abd"><div class="ttname"><a href="../../d8/d21/_adafruit_bridge_8ino_a4c4ae9a4146ce8d6a5debc90300d9abd.html#a4c4ae9a4146ce8d6a5debc90300d9abd">NUM_LEDS</a></div><div class="ttdeci">#define NUM_LEDS</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d21/_adafruit_bridge_8ino_source.html#l00011">AdafruitBridge.ino:11</a></div></div>
<div class="ttc" id="a_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33_html_a0a2f84ed7838f07779ae24c5a9086d33"><div class="ttname"><a href="../../db/d49/_audio_2simple_2simple_8h_a0a2f84ed7838f07779ae24c5a9086d33.html#a0a2f84ed7838f07779ae24c5a9086d33">y</a></div><div class="ttdeci">int y</div><div class="ttdef"><b>Definition</b> <a href="../../db/d49/_audio_2simple_2simple_8h_source.html#l00093">simple.h:93</a></div></div>
<div class="ttc" id="a_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc_html_a6150e0515f7202e2fb518f7206ed97dc"><div class="ttname"><a href="../../db/d49/_audio_2simple_2simple_8h_a6150e0515f7202e2fb518f7206ed97dc.html#a6150e0515f7202e2fb518f7206ed97dc">x</a></div><div class="ttdeci">int x</div><div class="ttdef"><b>Definition</b> <a href="../../db/d49/_audio_2simple_2simple_8h_source.html#l00092">simple.h:92</a></div></div>
<div class="ttc" id="a_audio_2simple_2simple_8h_aaef57fab56b804d85580f89cc5309d4d_html_aaef57fab56b804d85580f89cc5309d4d"><div class="ttname"><a href="../../db/d49/_audio_2simple_2simple_8h_aaef57fab56b804d85580f89cc5309d4d.html#aaef57fab56b804d85580f89cc5309d4d">IS_SERPINTINE</a></div><div class="ttdeci">#define IS_SERPINTINE</div><div class="ttdef"><b>Definition</b> <a href="../../db/d49/_audio_2simple_2simple_8h_source.html#l00050">simple.h:50</a></div></div>
<div class="ttc" id="a_color_boost_8h_a21389841876f0e37ca08ab26d211736c_html_a21389841876f0e37ca08ab26d211736c"><div class="ttname"><a href="../../db/df4/_color_boost_8h_a21389841876f0e37ca08ab26d211736c.html#a21389841876f0e37ca08ab26d211736c">xyMap</a></div><div class="ttdeci">fl::XYMap xyMap</div><div class="ttdef"><b>Definition</b> <a href="../../db/df4/_color_boost_8h_source.html#l00057">ColorBoost.h:57</a></div></div>
<div class="ttc" id="a_fast_l_e_d_8cpp_a8e94985674086ea368e1d51cbc0f82a9_html_a8e94985674086ea368e1d51cbc0f82a9"><div class="ttname"><a href="../../d6/dda/_fast_l_e_d_8cpp_a8e94985674086ea368e1d51cbc0f82a9.html#a8e94985674086ea368e1d51cbc0f82a9">FastLED</a></div><div class="ttdeci">FL_DISABLE_WARNING_PUSH FL_DISABLE_WARNING_GLOBAL_CONSTRUCTORS CFastLED FastLED</div><div class="ttdoc">Global LED strip management instance.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dda/_fast_l_e_d_8cpp_source.html#l00074">FastLED.cpp:74</a></div></div>
<div class="ttc" id="a_fast_l_e_d_8h_html"><div class="ttname"><a href="../../db/d97/_fast_l_e_d_8h.html">FastLED.h</a></div><div class="ttdoc">central include file for FastLED, defines the CFastLED class/object</div></div>
<div class="ttc" id="a_noise_8ino_a12633132d07532aac2bd05fa1d5c8a72_html_a12633132d07532aac2bd05fa1d5c8a72"><div class="ttname"><a href="../../d6/d9d/_noise_8ino_a12633132d07532aac2bd05fa1d5c8a72.html#a12633132d07532aac2bd05fa1d5c8a72">speed</a></div><div class="ttdeci">uint16_t speed</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d9d/_noise_8ino_source.html#l00063">Noise.ino:63</a></div></div>
<div class="ttc" id="a_wave2d_8h_a4888587ada6e64ef92a816ee12037584_html_a4888587ada6e64ef92a816ee12037584"><div class="ttname"><a href="../../d5/d94/_wave2d_8h_a4888587ada6e64ef92a816ee12037584.html#a4888587ada6e64ef92a816ee12037584">autoTrigger</a></div><div class="ttdeci">UICheckbox autoTrigger(&quot;Auto Trigger&quot;, true)</div></div>
<div class="ttc" id="a_wave2d_8h_a7e65311e6ea71eef029422a1873b9c79_html_a7e65311e6ea71eef029422a1873b9c79"><div class="ttname"><a href="../../d5/d94/_wave2d_8h_a7e65311e6ea71eef029422a1873b9c79.html#a7e65311e6ea71eef029422a1873b9c79">xCyclical</a></div><div class="ttdeci">UICheckbox xCyclical(&quot;X Is Cyclical&quot;, true)</div></div>
<div class="ttc" id="aadvanced_8h_a241aeeb764887ae5e3de58b98f04b16d_html_a241aeeb764887ae5e3de58b98f04b16d"><div class="ttname"><a href="../../da/dc7/advanced_8h_a241aeeb764887ae5e3de58b98f04b16d.html#a241aeeb764887ae5e3de58b98f04b16d">WIDTH</a></div><div class="ttdeci">#define WIDTH</div><div class="ttdef"><b>Definition</b> <a href="../../da/dc7/advanced_8h_source.html#l00034">advanced.h:34</a></div></div>
<div class="ttc" id="aadvanced_8h_a4a1f1d5914e416792e11ee3edffc6748_html_a4a1f1d5914e416792e11ee3edffc6748"><div class="ttname"><a href="../../da/dc7/advanced_8h_a4a1f1d5914e416792e11ee3edffc6748.html#a4a1f1d5914e416792e11ee3edffc6748">title</a></div><div class="ttdeci">UITitle title(&quot;Audio Reactive Visualizations&quot;)</div></div>
<div class="ttc" id="aadvanced_8h_a54cf14e3dee29084d589018a9bb7a04e_html_a54cf14e3dee29084d589018a9bb7a04e"><div class="ttname"><a href="../../da/dc7/advanced_8h_a54cf14e3dee29084d589018a9bb7a04e.html#a54cf14e3dee29084d589018a9bb7a04e">description</a></div><div class="ttdeci">UIDescription description(&quot;Real-time audio visualizations with beat detection and multiple modes&quot;)</div></div>
<div class="ttc" id="aadvanced_8h_aed89bd71aee8be823e8a20ec4e093c1e_html_aed89bd71aee8be823e8a20ec4e093c1e"><div class="ttname"><a href="../../da/dc7/advanced_8h_aed89bd71aee8be823e8a20ec4e093c1e.html#aed89bd71aee8be823e8a20ec4e093c1e">HEIGHT</a></div><div class="ttdeci">#define HEIGHT</div><div class="ttdef"><b>Definition</b> <a href="../../da/dc7/advanced_8h_source.html#l00035">advanced.h:35</a></div></div>
<div class="ttc" id="ablend_8h_html"><div class="ttname"><a href="../../d8/d4e/blend_8h.html">blend.h</a></div></div>
<div class="ttc" id="aclass_n_e_o_p_i_x_e_l_html"><div class="ttname"><a href="../../d5/d5c/class_n_e_o_p_i_x_e_l.html">NEOPIXEL</a></div><div class="ttdoc">LED controller for WS2812 LEDs with GRB color order.</div><div class="ttdef"><b>Definition</b> <a href="../../db/d97/_fast_l_e_d_8h_source.html#l00158">FastLED.h:158</a></div></div>
<div class="ttc" id="aclassfl_1_1_blend2d_html"><div class="ttname"><a href="../../dc/d2b/classfl_1_1_blend2d.html">fl::Blend2d</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d4e/blend_8h_source.html#l00029">blend.h:29</a></div></div>
<div class="ttc" id="aclassfl_1_1_fx_a932d6e78e1afa4bb40cacefe1f01c97a_html_a932d6e78e1afa4bb40cacefe1f01c97a"><div class="ttname"><a href="../../da/d5d/classfl_1_1_fx_a932d6e78e1afa4bb40cacefe1f01c97a.html#a932d6e78e1afa4bb40cacefe1f01c97a">fl::Fx::DrawContext</a></div><div class="ttdeci">_DrawContext DrawContext</div><div class="ttdef"><b>Definition</b> <a href="../../d2/d0c/fx_8h_source.html#l00021">fx.h:21</a></div></div>
<div class="ttc" id="aclassfl_1_1_time_ramp_a9f0b72e7ed74128fee2becc745d2ab72_html_a9f0b72e7ed74128fee2becc745d2ab72"><div class="ttname"><a href="../../d0/d9d/classfl_1_1_time_ramp_a9f0b72e7ed74128fee2becc745d2ab72.html#a9f0b72e7ed74128fee2becc745d2ab72">fl::TimeRamp::trigger</a></div><div class="ttdeci">void trigger(u32 now) override</div><div class="ttdoc">Call this when you want to (re)start the ramp cycle.</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d07/time__alpha_8cpp_source.html#l00043">time_alpha.cpp:43</a></div></div>
<div class="ttc" id="aclassfl_1_1_time_ramp_aa060cb7edcafe345e03bfac190e98fe4_html_aa060cb7edcafe345e03bfac190e98fe4"><div class="ttname"><a href="../../d0/d9d/classfl_1_1_time_ramp_aa060cb7edcafe345e03bfac190e98fe4.html#aa060cb7edcafe345e03bfac190e98fe4">fl::TimeRamp::update8</a></div><div class="ttdeci">u8 update8(u32 now) override</div><div class="ttdoc">Compute current 0255 output based on how much time has elapsed since trigger().</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d07/time__alpha_8cpp_source.html#l00083">time_alpha.cpp:83</a></div></div>
<div class="ttc" id="aclassfl_1_1_time_ramp_aa86982c4d0ae7393bd86c0b5959c5b10_html_aa86982c4d0ae7393bd86c0b5959c5b10"><div class="ttname"><a href="../../d0/d9d/classfl_1_1_time_ramp_aa86982c4d0ae7393bd86c0b5959c5b10.html#aa86982c4d0ae7393bd86c0b5959c5b10">fl::TimeRamp::isActive</a></div><div class="ttdeci">bool isActive(u32 now) const override</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d07/time__alpha_8cpp_source.html#l00060">time_alpha.cpp:60</a></div></div>
<div class="ttc" id="aclassfl_1_1_time_ramp_html"><div class="ttname"><a href="../../d0/d9d/classfl_1_1_time_ramp.html">fl::TimeRamp</a></div><div class="ttdef"><b>Definition</b> <a href="../../d0/d87/time__alpha_8h_source.html#l00055">time_alpha.h:55</a></div></div>
<div class="ttc" id="aclassfl_1_1_u_i_button_html"><div class="ttname"><a href="../../d3/d1d/classfl_1_1_u_i_button.html">fl::UIButton</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d3b/ui_8h_source.html#l00131">ui.h:131</a></div></div>
<div class="ttc" id="aclassfl_1_1_u_i_checkbox_html"><div class="ttname"><a href="../../d7/dfe/classfl_1_1_u_i_checkbox.html">fl::UICheckbox</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d3b/ui_8h_source.html#l00226">ui.h:226</a></div></div>
<div class="ttc" id="aclassfl_1_1_u_i_description_html"><div class="ttname"><a href="../../de/d86/classfl_1_1_u_i_description.html">fl::UIDescription</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d3b/ui_8h_source.html#l00376">ui.h:376</a></div></div>
<div class="ttc" id="aclassfl_1_1_u_i_help_html"><div class="ttname"><a href="../../df/d0e/classfl_1_1_u_i_help.html">fl::UIHelp</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d3b/ui_8h_source.html#l00393">ui.h:393</a></div></div>
<div class="ttc" id="aclassfl_1_1_u_i_slider_html"><div class="ttname"><a href="../../dd/d47/classfl_1_1_u_i_slider.html">fl::UISlider</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d3b/ui_8h_source.html#l00043">ui.h:43</a></div></div>
<div class="ttc" id="aclassfl_1_1_u_i_title_html"><div class="ttname"><a href="../../d9/d82/classfl_1_1_u_i_title.html">fl::UITitle</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/d3b/ui_8h_source.html#l00355">ui.h:355</a></div></div>
<div class="ttc" id="aclassfl_1_1_wave_fx_a95c9a65bf6147be56b0dc1c96a031627_html_a95c9a65bf6147be56b0dc1c96a031627"><div class="ttname"><a href="../../d6/d5f/classfl_1_1_wave_fx_a95c9a65bf6147be56b0dc1c96a031627.html#a95c9a65bf6147be56b0dc1c96a031627">fl::WaveFx::Args</a></div><div class="ttdeci">WaveFxArgs Args</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00084">wave.h:84</a></div></div>
<div class="ttc" id="aclassfl_1_1_wave_fx_html"><div class="ttname"><a href="../../d6/d5f/classfl_1_1_wave_fx.html">fl::WaveFx</a></div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00082">wave.h:82</a></div></div>
<div class="ttc" id="aclassfl_1_1_x_y_map_html"><div class="ttname"><a href="../../d0/dce/classfl_1_1_x_y_map.html">fl::XYMap</a></div><div class="ttdef"><b>Definition</b> <a href="../../da/d61/xymap_8h_source.html#l00045">xymap.h:45</a></div></div>
<div class="ttc" id="acolorutils_8h_a180d83b9f32efe5825c8612fa8720d79_html_a180d83b9f32efe5825c8612fa8720d79"><div class="ttname"><a href="../../d1/dfb/colorutils_8h_a180d83b9f32efe5825c8612fa8720d79.html#a180d83b9f32efe5825c8612fa8720d79">DEFINE_GRADIENT_PALETTE</a></div><div class="ttdeci">#define DEFINE_GRADIENT_PALETTE(X)</div><div class="ttdoc">Defines a static RGB palette very compactly using a series of connected color gradients.</div><div class="ttdef"><b>Definition</b> <a href="../../d1/dfb/colorutils_8h_source.html#l00121">colorutils.h:121</a></div></div>
<div class="ttc" id="aexamples_2_downscale_2src_2wave_8cpp_a9c851c66f2e46b214500ec6c3722b9a4_html_a9c851c66f2e46b214500ec6c3722b9a4"><div class="ttname"><a href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_a9c851c66f2e46b214500ec6c3722b9a4.html#a9c851c66f2e46b214500ec6c3722b9a4">CreateArgsLower</a></div><div class="ttdeci">WaveFx::Args CreateArgsLower()</div><div class="ttdef"><b>Definition</b> <a href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_source.html#l00020">wave.cpp:20</a></div></div>
<div class="ttc" id="aexamples_2_downscale_2src_2wave_8cpp_afab48463dd09a75d6a518ac33378eda4_html_afab48463dd09a75d6a518ac33378eda4"><div class="ttname"><a href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_afab48463dd09a75d6a518ac33378eda4.html#afab48463dd09a75d6a518ac33378eda4">CreateArgsUpper</a></div><div class="ttdeci">WaveFx::Args CreateArgsUpper()</div><div class="ttdef"><b>Definition</b> <a href="../../de/d3f/examples_2_downscale_2src_2wave_8cpp_source.html#l00031">wave.cpp:31</a></div></div>
<div class="ttc" id="aexamples_2_wave_2wave_8h_a6abe41ca388c9afca0fda9ae263570b2_html_a6abe41ca388c9afca0fda9ae263570b2"><div class="ttname"><a href="../../d8/d78/examples_2_wave_2wave_8h_a6abe41ca388c9afca0fda9ae263570b2.html#a6abe41ca388c9afca0fda9ae263570b2">triggerRipple</a></div><div class="ttdeci">void triggerRipple(WaveSimulation1D &amp;waveSim, int x)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d78/examples_2_wave_2wave_8h_source.html#l00049">Wave.h:49</a></div></div>
<div class="ttc" id="aexamples_2_wave_2wave_8h_aa9be298a86379d387b10e37b53bc3e3d_html_aa9be298a86379d387b10e37b53bc3e3d"><div class="ttname"><a href="../../d8/d78/examples_2_wave_2wave_8h_aa9be298a86379d387b10e37b53bc3e3d.html#aa9be298a86379d387b10e37b53bc3e3d">superSample</a></div><div class="ttdeci">UISlider superSample(&quot;SuperSampleExponent&quot;, 0.f, 0.f, 3.f, 1.f)</div></div>
<div class="ttc" id="aexamples_2_wave_2wave_8h_ad3facb26c8fe2270d260a10ea9aceb09_html_ad3facb26c8fe2270d260a10ea9aceb09"><div class="ttname"><a href="../../d8/d78/examples_2_wave_2wave_8h_ad3facb26c8fe2270d260a10ea9aceb09.html#ad3facb26c8fe2270d260a10ea9aceb09">getSuperSample</a></div><div class="ttdeci">SuperSample getSuperSample()</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d78/examples_2_wave_2wave_8h_source.html#l00060">Wave.h:60</a></div></div>
<div class="ttc" id="amath__macros_8h_a3acffbd305ee72dcd4593c0d8af64a4f_html_a3acffbd305ee72dcd4593c0d8af64a4f"><div class="ttname"><a href="../../d8/db8/math__macros_8h_a3acffbd305ee72dcd4593c0d8af64a4f.html#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a></div><div class="ttdeci">#define MIN(a, b)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/db8/math__macros_8h_source.html#l00049">math_macros.h:49</a></div></div>
<div class="ttc" id="amath__macros_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f_html_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><div class="ttname"><a href="../../d8/db8/math__macros_8h_afa99ec4acc4ecb2dc3c2d05da15d0e3f.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a></div><div class="ttdeci">#define MAX(a, b)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/db8/math__macros_8h_source.html#l00045">math_macros.h:45</a></div></div>
<div class="ttc" id="amath__macros_8h_html"><div class="ttname"><a href="../../d8/db8/math__macros_8h.html">math_macros.h</a></div></div>
<div class="ttc" id="anamespacefl_a351456da7166b4fdf8e1ea8c9c333517_html_a351456da7166b4fdf8e1ea8c9c333517"><div class="ttname"><a href="../../d4/d36/namespacefl_a351456da7166b4fdf8e1ea8c9c333517.html#a351456da7166b4fdf8e1ea8c9c333517">fl::U8EasingFunction</a></div><div class="ttdeci">U8EasingFunction</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d36/wave__simulation_8h_source.html#l00033">wave_simulation.h:33</a></div></div>
<div class="ttc" id="anamespacefl_a351456da7166b4fdf8e1ea8c9c333517_html_a351456da7166b4fdf8e1ea8c9c333517a0cf5c24d21781176aa004b1c99a2bd83"><div class="ttname"><a href="../../d4/d36/namespacefl_a351456da7166b4fdf8e1ea8c9c333517.html#a351456da7166b4fdf8e1ea8c9c333517a0cf5c24d21781176aa004b1c99a2bd83">fl::WAVE_U8_MODE_LINEAR</a></div><div class="ttdeci">@ WAVE_U8_MODE_LINEAR</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d36/wave__simulation_8h_source.html#l00033">wave_simulation.h:33</a></div></div>
<div class="ttc" id="anamespacefl_a351456da7166b4fdf8e1ea8c9c333517_html_a351456da7166b4fdf8e1ea8c9c333517aebe90d9386335a6f83dd651108cc83c7"><div class="ttname"><a href="../../d4/d36/namespacefl_a351456da7166b4fdf8e1ea8c9c333517.html#a351456da7166b4fdf8e1ea8c9c333517aebe90d9386335a6f83dd651108cc83c7">fl::WAVE_U8_MODE_SQRT</a></div><div class="ttdeci">@ WAVE_U8_MODE_SQRT</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d36/wave__simulation_8h_source.html#l00033">wave_simulation.h:33</a></div></div>
<div class="ttc" id="anamespacefl_a41efc6482adf6ba3487dee62b02c7f13_html_a41efc6482adf6ba3487dee62b02c7f13"><div class="ttname"><a href="../../d4/d36/namespacefl_a41efc6482adf6ba3487dee62b02c7f13.html#a41efc6482adf6ba3487dee62b02c7f13">fl::span</a></div><div class="ttdeci">Slice&lt; T &gt; span</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d7a/span_8h_source.html#l00008">span.h:8</a></div></div>
<div class="ttc" id="anamespacefl_a87ae8a24cc8b709a64f39370e71846af_html_a87ae8a24cc8b709a64f39370e71846af"><div class="ttname"><a href="../../d4/d36/namespacefl_a87ae8a24cc8b709a64f39370e71846af.html#a87ae8a24cc8b709a64f39370e71846af">fl::make_shared</a></div><div class="ttdeci">shared_ptr&lt; T &gt; make_shared(Args &amp;&amp;... args)</div><div class="ttdef"><b>Definition</b> <a href="../../df/d6a/shared__ptr_8h_source.html#l00348">shared_ptr.h:348</a></div></div>
<div class="ttc" id="anamespacefl_ad37afc941d920308dd71960e4613cdf6_html_ad37afc941d920308dd71960e4613cdf6"><div class="ttname"><a href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6">fl::SuperSample</a></div><div class="ttdeci">SuperSample</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dce/supersample_8h_source.html#l00004">supersample.h:4</a></div></div>
<div class="ttc" id="anamespacefl_ad37afc941d920308dd71960e4613cdf6_html_ad37afc941d920308dd71960e4613cdf6a086e36ad906a8ab6071172529675ff3e"><div class="ttname"><a href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a086e36ad906a8ab6071172529675ff3e">fl::SUPER_SAMPLE_8X</a></div><div class="ttdeci">@ SUPER_SAMPLE_8X</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dce/supersample_8h_source.html#l00008">supersample.h:8</a></div></div>
<div class="ttc" id="anamespacefl_ad37afc941d920308dd71960e4613cdf6_html_ad37afc941d920308dd71960e4613cdf6a1e910f180f77f3704a8066db79cd6111"><div class="ttname"><a href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a1e910f180f77f3704a8066db79cd6111">fl::SUPER_SAMPLE_2X</a></div><div class="ttdeci">@ SUPER_SAMPLE_2X</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dce/supersample_8h_source.html#l00006">supersample.h:6</a></div></div>
<div class="ttc" id="anamespacefl_ad37afc941d920308dd71960e4613cdf6_html_ad37afc941d920308dd71960e4613cdf6a24072aca92c61bd88948f7118d96c21b"><div class="ttname"><a href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6a24072aca92c61bd88948f7118d96c21b">fl::SUPER_SAMPLE_4X</a></div><div class="ttdeci">@ SUPER_SAMPLE_4X</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dce/supersample_8h_source.html#l00007">supersample.h:7</a></div></div>
<div class="ttc" id="anamespacefl_ad37afc941d920308dd71960e4613cdf6_html_ad37afc941d920308dd71960e4613cdf6af213904fd17b4c9630581686d2e4ca89"><div class="ttname"><a href="../../d4/d36/namespacefl_ad37afc941d920308dd71960e4613cdf6.html#ad37afc941d920308dd71960e4613cdf6af213904fd17b4c9630581686d2e4ca89">fl::SUPER_SAMPLE_NONE</a></div><div class="ttdeci">@ SUPER_SAMPLE_NONE</div><div class="ttdef"><b>Definition</b> <a href="../../d2/dce/supersample_8h_source.html#l00005">supersample.h:5</a></div></div>
<div class="ttc" id="anamespacefl_html"><div class="ttname"><a href="../../d4/d36/namespacefl.html">fl</a></div><div class="ttdoc">IMPORTANT!</div><div class="ttdef"><b>Definition</b> <a href="../../db/dd1/crgb_8h_source.html#l00020">crgb.h:20</a></div></div>
<div class="ttc" id="anamespacefl_html_aa84dbce9ae5541d688d3c97dab2e5c46"><div class="ttname"><a href="../../d4/d36/namespacefl.html#aa84dbce9ae5541d688d3c97dab2e5c46">fl::Blend2dParams::blur_passes</a></div><div class="ttdeci">uint8_t blur_passes</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d4e/blend_8h_source.html#l00024">blend.h:24</a></div></div>
<div class="ttc" id="anamespacefl_html_aa8e7a7596e6a08db1234c053de9e776e"><div class="ttname"><a href="../../d4/d36/namespacefl.html#aa8e7a7596e6a08db1234c053de9e776e">fl::Blend2dParams::blur_amount</a></div><div class="ttdeci">uint8_t blur_amount</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d4e/blend_8h_source.html#l00023">blend.h:23</a></div></div>
<div class="ttc" id="anamespacefl_html_d2/dd0/structfl_1_1_blend2d_params"><div class="ttname"><a href="../../d4/d36/namespacefl.html#d2/dd0/structfl_1_1_blend2d_params">fl::Blend2dParams</a></div><div class="ttdef"><b>Definition</b> <a href="../../d8/d4e/blend_8h_source.html#l00022">blend.h:22</a></div></div>
<div class="ttc" id="aold_8h_a1aba00ccb05d318eedbdb922d076f3e6_html_a1aba00ccb05d318eedbdb922d076f3e6"><div class="ttname"><a href="../../d7/da1/old_8h_a1aba00ccb05d318eedbdb922d076f3e6.html#a1aba00ccb05d318eedbdb922d076f3e6">button</a></div><div class="ttdeci">UIButton button(&quot;Button&quot;)</div></div>
<div class="ttc" id="asrc_2fx_22d_2wave_8h_html"><div class="ttname"><a href="../../de/de9/src_2fx_22d_2wave_8h.html">wave.h</a></div></div>
<div class="ttc" id="astruct_c_r_g_b_html"><div class="ttname"><a href="../../d7/d82/struct_c_r_g_b.html">CRGB</a></div><div class="ttdoc">Representation of an RGB pixel (Red, Green, Blue)</div><div class="ttdef"><b>Definition</b> <a href="../../db/dd1/crgb_8h_source.html#l00086">crgb.h:86</a></div></div>
<div class="ttc" id="astructfl_1_1_wave_fx_args_a0ba93ec8982cb69fdfcfa1a012a5c695_html_a0ba93ec8982cb69fdfcfa1a012a5c695"><div class="ttname"><a href="../../d3/da2/structfl_1_1_wave_fx_args_a0ba93ec8982cb69fdfcfa1a012a5c695.html#a0ba93ec8982cb69fdfcfa1a012a5c695">fl::WaveFxArgs::speed</a></div><div class="ttdeci">float speed</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00074">wave.h:74</a></div></div>
<div class="ttc" id="astructfl_1_1_wave_fx_args_a30fa1939e7ca3777e23f7e7be3156c1c_html_a30fa1939e7ca3777e23f7e7be3156c1c"><div class="ttname"><a href="../../d3/da2/structfl_1_1_wave_fx_args_a30fa1939e7ca3777e23f7e7be3156c1c.html#a30fa1939e7ca3777e23f7e7be3156c1c">fl::WaveFxArgs::crgbMap</a></div><div class="ttdeci">WaveCrgbMapPtr crgbMap</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00078">wave.h:78</a></div></div>
<div class="ttc" id="astructfl_1_1_wave_fx_args_a31d87fcefb3cc18bc7024d421a39f79f_html_a31d87fcefb3cc18bc7024d421a39f79f"><div class="ttname"><a href="../../d3/da2/structfl_1_1_wave_fx_args_a31d87fcefb3cc18bc7024d421a39f79f.html#a31d87fcefb3cc18bc7024d421a39f79f">fl::WaveFxArgs::auto_updates</a></div><div class="ttdeci">bool auto_updates</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00073">wave.h:73</a></div></div>
<div class="ttc" id="astructfl_1_1_wave_fx_args_a4ccef0276bac38adb044a29f9ff20039_html_a4ccef0276bac38adb044a29f9ff20039"><div class="ttname"><a href="../../d3/da2/structfl_1_1_wave_fx_args_a4ccef0276bac38adb044a29f9ff20039.html#a4ccef0276bac38adb044a29f9ff20039">fl::WaveFxArgs::factor</a></div><div class="ttdeci">SuperSample factor</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00071">wave.h:71</a></div></div>
<div class="ttc" id="astructfl_1_1_wave_fx_args_a680195f7dd128c7998081f286fea1f3c_html_a680195f7dd128c7998081f286fea1f3c"><div class="ttname"><a href="../../d3/da2/structfl_1_1_wave_fx_args_a680195f7dd128c7998081f286fea1f3c.html#a680195f7dd128c7998081f286fea1f3c">fl::WaveFxArgs::dampening</a></div><div class="ttdeci">float dampening</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00075">wave.h:75</a></div></div>
<div class="ttc" id="astructfl_1_1_wave_fx_args_aab1c5816b5558e6ceb34ac1d4f4f3582_html_aab1c5816b5558e6ceb34ac1d4f4f3582"><div class="ttname"><a href="../../d3/da2/structfl_1_1_wave_fx_args_aab1c5816b5558e6ceb34ac1d4f4f3582.html#aab1c5816b5558e6ceb34ac1d4f4f3582">fl::WaveFxArgs::half_duplex</a></div><div class="ttdeci">bool half_duplex</div><div class="ttdef"><b>Definition</b> <a href="../../de/de9/src_2fx_22d_2wave_8h_source.html#l00072">wave.h:72</a></div></div>
<div class="ttc" id="astructui__state_html"><div class="ttname"><a href="../../da/db7/structui__state.html">ui_state</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/da7/ui__state_8h_source.html#l00011">ui_state.h:11</a></div></div>
<div class="ttc" id="atime__alpha_8h_html"><div class="ttname"><a href="../../d0/d87/time__alpha_8h.html">time_alpha.h</a></div></div>
<div class="ttc" id="aui_8h_html"><div class="ttname"><a href="../../d9/d3b/ui_8h.html">ui.h</a></div></div>
<div class="ttc" id="awavefx_8h_a87678ef92428a738638ade3dd0180335_html_a87678ef92428a738638ade3dd0180335"><div class="ttname"><a href="../../dc/d83/wavefx_8h_a87678ef92428a738638ade3dd0180335.html#a87678ef92428a738638ade3dd0180335">wavefx_loop</a></div><div class="ttdeci">void wavefx_loop()</div></div>
<div class="ttc" id="awavefx_8h_aa7e56c878f8b5a70abd4e271630d572e_html_aa7e56c878f8b5a70abd4e271630d572e"><div class="ttname"><a href="../../dc/d83/wavefx_8h_aa7e56c878f8b5a70abd4e271630d572e.html#aa7e56c878f8b5a70abd4e271630d572e">wavefx_setup</a></div><div class="ttdeci">void wavefx_setup()</div></div>
<div class="ttc" id="awavefx_8h_html"><div class="ttname"><a href="../../dc/d83/wavefx_8h.html">wavefx.h</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.3-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d28a4824dc47e487b107a5db32ef43c4.html">examples</a></li><li class="navelem"><a class="el" href="../../dir_47eec6d0c0bc604dac9aa356a4226313.html">FxWave2d</a></li><li class="navelem"><a class="el" href="../../d9/d29/wavefx_8cpp.html">wavefx.cpp</a></li>
    <li class="footer">Generated on Sat Sep 20 2025 20:42:19 for FastLED by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
<!-- ... -->
</body>
</html>
