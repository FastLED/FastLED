Initial build failed: 0.13 ********************************************************************************
0.13 If you like PlatformIO, please:
0.13 - star it on GitHub > https://github.com/platformio/platformio-core
0.13 - follow us on LinkedIn to stay up-to-date on the latest project news > https://www.linkedin.com/company/platformio/
0.13 - try PlatformIO IDE for embedded development > https://platformio.org/platformio-ide
0.13 ********************************************************************************
0.13 Processing esp32c2 (board: esp32-c2-devkitm-1; platform: https://github.com/pioarduino/platform-espressif32.git#develop; framework: arduino)
0.13 --------------------------------------------------------------------------------
0.13 Platform Manager: Installing git+https://github.com/pioarduino/platform-espressif32.git#develop
0.13 git version 2.48.1
0.13 Cloning into '/home/ubuntu/.fastled/compile/pio/esp32c2/.cache/tmp/pkg-installing-r0xtm2al'...
0.86 Platform Manager: espressif32@55.3.30+develop.sha.9651ee8 has been installed!
0.87 Tool Manager: Installing https://github.com/pioarduino/esp_install/releases/download/v5.3.0/esp_install-v5.3.0.zip
1.18 Downloading 0% 10% 20% 30% 40% 50% 60% 70%
1.18 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
1.18 Tool Manager: tool-esp_install@5.3.0 has been installed!
1.33 Tool Manager: Installing https://github.com/espressif/arduino-esp32/archive/master.zip
1.68 Downloading...
4.15 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
4.39 Tool Manager: framework-arduinoespressif32@3.3.0 has been installed!
4.39 Tool Manager: Installing https://github.com/espressif/esp32-arduino-lib-builder/releases/download/idf-release_v5.5/esp32-arduino-libs-idf-release_v5.5-b66b5448-v1.zip
6.10 Downloading 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
14.87 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
19.27 Tool Manager: framework-arduinoespressif32-libs@5.5.0+sha.b66b5448e0 has been installed!
19.28 Tool Manager: Installing https://github.com/pioarduino/platform-espressif32/releases/download/55.03.30-alpha1/c2_cbe9388f45_compile_skeleton.zip
20.30 Downloading 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
20.88 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
21.17 Tool Manager: framework-arduino-c2-skeleton-lib@5.5.0+sha.cbe9388f45 has been installed!
21.17 Tool Manager: Installing https://github.com/pioarduino/esp-idf/releases/download/v5.5.0/esp-idf-v5.5.0.zip
23.88 Downloading 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
27.16 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
29.57 Tool Manager: framework-espidf@3.50500.0 has been installed!
29.57 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/riscv32-esp-elf-14.2.0_20241119.zip
29.76 Downloading 0% 10%
29.76 Unpacking 0% 10% 20%
29.76 Tool Manager: toolchain-riscv32-esp@14.2.0+20241119 has been installed!
29.76 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/esptoolpy-v5.0.2.zip
29.96 Downloading 0% 10%
29.96 Unpacking 0% 10% 20%
29.96 Tool Manager: tool-esptoolpy@5.0.2 has been installed!
29.96 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/contrib-piohome-3.4.4.tar.gz
30.25 Downloading 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
30.28 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
30.28 Tool Manager: contrib-piohome@3.4.4 has been installed!
30.28 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/mklittlefs-3.2.0-new.zip
30.47 Downloading 0% 10%
30.47 Unpacking 0% 10% 20%
30.47 Tool Manager: tool-mklittlefs@3.2.0 has been installed!
30.48 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/cmake-3.30.2.zip
30.72 Downloading 0% 10%
30.72 Unpacking 0% 10% 20%
30.72 Tool Manager: tool-cmake@3.30.2 has been installed!
30.72 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/esp-rom-elfs-20241011.zip
31.03 Downloading 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
31.07 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
31.08 Tool Manager: tool-esp-rom-elfs@2024.10.11 has been installed!
31.08 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/ninja-1.13.1.zip
31.33 Downloading 0% 10%
31.33 Unpacking 0% 10% 20%
31.33 Tool Manager: tool-ninja@1.13.1 has been installed!
31.34 Tool Manager: Installing https://github.com/pioarduino/registry/releases/download/0.0.1/scons-4.8.1.zip
31.53 Downloading 0% 10%
31.53 Unpacking 0% 10% 20%
31.53 Tool Manager: tool-scons@4.40801.0 has been installed!
31.54 Tool Manager: Installing platformio/tool-scons @ ~4.40801.0
34.15 Downloading 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
34.19 Unpacking 0% 10% 20% 30% 40% 50% 60% 70% 80% 90% 100%
34.21 Tool Manager: tool-scons@4.40801.0 has been installed!
34.48 Tool Manager: Installing file:///home/ubuntu/.platformio/tools/tool-esptoolpy
34.51 Tool Manager: tool-esptoolpy@5.0.2 has been installed!
52.48 Tool Manager: Installing file:///home/ubuntu/.platformio/tools/toolchain-riscv32-esp
57.48 Tool Manager: toolchain-riscv32-esp@14.2.0+20241119 has been installed!
57.89 Tool Manager: Installing file:///home/ubuntu/.platformio/tools/tool-mklittlefs
57.89 Tool Manager: tool-mklittlefs@3.2.0 has been installed!
58.11 Tool Manager: Installing file:///home/ubuntu/.platformio/tools/tool-cmake
60.19 Tool Manager: tool-cmake@3.30.2 has been installed!
60.50 Tool Manager: Installing file:///home/ubuntu/.platformio/tools/tool-ninja
60.51 Tool Manager: tool-ninja@1.13.1 has been installed!
60.62 Tool Manager: Installing file:///home/ubuntu/.platformio/tools/tool-esp-rom-elfs
60.65 Tool Manager: tool-esp-rom-elfs@2024.10.11 has been installed!
60.95 Verbose mode can be enabled via `-v, --verbose` option
61.02 Creating pioarduino Python virtual environment: /home/ubuntu/.fastled/compile/pio/esp32c2/penv
61.05 The virtual environment was not created successfully because ensurepip is not
61.05 available.  On Debian/Ubuntu systems, you need to install the python3-venv
61.05 package using the following command.
61.05     apt install python3.13-venv
61.05 You may need to use sudo with that command.  After installing the python3-venv
61.05 package, recreate your virtual environment.
61.05 Failing command: /home/ubuntu/.fastled/compile/pio/esp32c2/penv/bin/python3.13
61.06 *** Error 1
61.06 AssertionError: Error: Failed to create a proper virtual environment. Missing the `pip` binary!:
61.06   File "/workspace/.venv/lib/python3.13/site-packages/platformio/builder/main.py", line 173:
61.06     env.SConscript("$BUILD_SCRIPT")
61.06   File "/home/ubuntu/.fastled/packages/esp32c2/tool-scons/scons-local-4.8.1/SCons/Script/SConscript.py", line 620:
61.06     return _SConscript(self.fs, *files, **subst_kw)
61.06   File "/home/ubuntu/.fastled/packages/esp32c2/tool-scons/scons-local-4.8.1/SCons/Script/SConscript.py", line 280:
61.06     exec(compile(scriptdata, scriptname, 'exec'), call_stack[-1].globals)
61.06   File "/home/ubuntu/.fastled/compile/pio/esp32c2/platforms/espressif32/builder/main.py", line 46:
61.06     PYTHON_EXE, esptool_binary_path = setup_python_environment(env, platform, platformio_dir)
61.06   File "/home/ubuntu/.fastled/compile/pio/esp32c2/platforms/espressif32/builder/penv_setup.py", line 352:
61.06     setup_pipenv_in_package(env, penv_dir)
61.06   File "/home/ubuntu/.fastled/compile/pio/esp32c2/platforms/espressif32/builder/penv_setup.py", line 83:
61.06     assert os.path.isfile(
61.10 ========================= [FAILED] Took 60.97 seconds =========================
Initial build failed: 0.13 Processing esp32c2 (board: esp32-c2-devkitm-1; platform: https://github.com/pioarduino/platform-espressif32.git#develop; framework: arduino)
0.13 --------------------------------------------------------------------------------
0.55 Verbose mode can be enabled via `-v, --verbose` option
3.89 CONFIGURATION: https://docs.platformio.org/page/boards/espressif32/esp32-c2-devkitm-1.html
3.89 PLATFORM: Espressif 32 (55.3.30+develop.sha.9651ee8) > Espressif ESP32-C2-DevKitM-1
3.89 HARDWARE: ESP32C2 120MHz, 272KB RAM, 4MB Flash
3.89 DEBUG: Current (cmsis-dap) External (cmsis-dap, esp-bridge, esp-prog, iot-bus-jtag, jlink, minimodule, olimex-arm-usb-ocd, olimex-arm-usb-ocd-h, olimex-arm-usb-tiny-h, olimex-jtag-tiny, tumpa)
3.89 PACKAGES:
3.89  - contrib-piohome @ 3.4.4
3.89  - framework-arduino-c2-skeleton-lib @ 5.5.0+sha.cbe9388f45
3.89  - framework-arduinoespressif32 @ 3.3.0
3.89  - framework-arduinoespressif32-libs @ 5.5.0+sha.b66b5448e0
3.89  - framework-espidf @ 3.50500.0 (5.5.0)
3.89  - tool-cmake @ 3.30.2
3.89  - tool-esp-rom-elfs @ 2024.10.11
3.89  - tool-esptoolpy @ 5.0.2
3.89  - tool-mklittlefs @ 3.2.0
3.89  - tool-ninja @ 1.13.1
3.89  - tool-scons @ 4.40801.0 (4.8.1)
3.89  - toolchain-riscv32-esp @ 14.2.0+20241119
3.90 *** Compile Arduino IDF libs for esp32c2 ***
4.68 *** Add "custom_sdkconfig" settings to IDF sdkconfig.defaults ***
4.68 Replace: CONFIG_IDF_TARGET="esp32c2" with: CONFIG_IDF_TARGET=esp32c2
4.68 Replace: CONFIG_ESPTOOLPY_FLASHMODE_QIO=y with: CONFIG_ESPTOOLPY_FLASHMODE_QIO=y
4.68 Replace: CONFIG_ESPTOOLPY_FLASHFREQ_60M=y with: CONFIG_ESPTOOLPY_FLASHFREQ_60M=y
4.68 Replace: CONFIG_ESPTOOLPY_FLASHFREQ="60m" with: CONFIG_ESPTOOLPY_FLASHFREQ="60m"
4.68 Add: # CONFIG_ESPTOOLPY_FLASHFREQ_80M is not set
4.68 Creating a new virtual environment for IDF Python dependencies
6.26 Using Python 3.13.3 environment at: /home/ubuntu/.fastled/compile/pio/esp32c2/penv/.espidf-5.5.0
6.26 Installing ESP-IDF's Python dependencies with uv
6.27 Using Python 3.13.3 environment at: /home/ubuntu/.fastled/compile/pio/esp32c2/penv/.espidf-5.5.0
6.46 Resolved 28 packages in 188ms
6.48 Downloading cryptography (4.0MiB)
6.48 Downloading uv (18.4MiB)
6.59  Downloading cryptography
6.69  Downloading uv
6.69 Prepared 12 packages in 224ms
6.70 Installed 28 packages in 10ms
6.70  + annotated-types==0.7.0
6.70  + certifi==2025.8.3
6.70  + cffi==1.17.1
6.70  + charset-normalizer==3.4.3
6.70  + click==8.2.1
6.70  + colorama==0.4.6
6.70  + cryptography==44.0.3
6.70  + esp-idf-kconfig==2.5.0
6.70  + idf-component-manager==2.2.2
6.70  + idna==3.10
6.70  + jsonref==1.1.0
6.70  + pycparser==2.22
6.70  + pydantic==2.11.7
6.70  + pydantic-core==2.33.2
6.70  + pydantic-settings==2.10.1
6.70  + pyparsing==3.2.3
6.70  + python-dotenv==1.1.1
6.70  + requests==2.32.4
6.70  + requests-file==2.1.0
6.70  + requests-toolbelt==1.0.0
6.70  + ruamel-yaml==0.18.14
6.70  + ruamel-yaml-clib==0.2.12
6.70  + tqdm==4.67.1
6.70  + truststore==0.10.4
6.70  + typing-extensions==4.14.1
6.70  + typing-inspection==0.4.1
6.70  + urllib3==1.26.20
6.70  + uv==0.8.9
6.71 Warning! Arduino framework as an ESP-IDF component doesn't handle the `variant` field! The default `esp32` variant will be used.
6.71 Reading CMake configuration...
15.23 Generating assembly for certificate bundle...
15.40 LDF: Library Dependency Finder -> https://bit.ly/configure-pio-ldf
15.40 LDF Modes: Finder ~ chain, Compatibility ~ soft
15.45 Found 42 compatible libraries
15.45 Scanning dependencies...
15.46 No dependencies
15.46 Building in release mode
15.47 Environment state dumped to: env_dump.json
15.47 Projenv state dumped to: projenv_dump.json
15.47 Cache configuration from environment:
15.47   Cache type: xcache
15.47   Cache executable: python /workspace/ci/util/xcache.py
15.47   SCCACHE path: /workspace/.venv/bin/sccache
15.47   SCCACHE dir: /home/ubuntu/.fastled/sccache
15.47   Debug enabled: False
15.47 xcache wrapper detected and configured for Python fake compilers
15.47   xcache path: /workspace/ci/util/xcache.py
15.47   cache executable: python /workspace/ci/util/xcache.py
15.47 DEBUG: Found compilers in env:
15.47   CC: 'riscv32-esp-elf-gcc' (type: str)
15.47   CXX: 'riscv32-esp-elf-g++' (type: str)
15.47 Extracted compiler names:
15.47   CC name: riscv32-esp-elf-gcc
15.47   CXX name: riscv32-esp-elf-g++
15.47 No valid cache found, creating compiler toolset from scratch...
15.47   This is the first compile or configuration changed
15.47 Searching platform packages (this may take ~10 seconds)...
16.22 Found 71 platform package directories
16.22 Resolving real compiler paths...
16.22 Found real compilers:
16.22   Real CC: /home/ubuntu/.fastled/packages/esp32c2/toolchain-riscv32-esp/bin/riscv32-esp-elf-gcc
16.22   Real CXX: /home/ubuntu/.fastled/packages/esp32c2/toolchain-riscv32-esp/bin/riscv32-esp-elf-g++
16.22 Created new compiler toolset:
16.22   CC: /workspace/.build/pio/esp32c2/cached_compilers/cached_CC.py
16.22   CXX: /workspace/.build/pio/esp32c2/cached_compilers/cached_CXX.py
16.22 Saved compiler toolset to local cache: /workspace/.build/pio/esp32c2/compiler_cache.json
16.22   This cache will persist across builds for this platform
16.22 Created Python cached compilers:
16.22   CC: /workspace/.build/pio/esp32c2/cached_compilers/cached_CC.py
16.22   CXX: /workspace/.build/pio/esp32c2/cached_compilers/cached_CXX.py
16.22 Applied Python fake compilers to both env and projenv
16.22 Python fake compiler cache enabled: xcache
16.22   Original CC: riscv32-esp-elf-gcc
16.22   Original CXX: riscv32-esp-elf-g++
16.22   Fake CC: /workspace/.build/pio/esp32c2/cached_compilers/cached_CC.py
16.22   Fake CXX: /workspace/.build/pio/esp32c2/cached_compilers/cached_CXX.py
16.22 Python fake compiler cache environment configured successfully
16.38 Compiling .pio/build/esp32c2/.dummy/sketch.cpp.o
16.39 Compiling .pio/build/esp32c2/.dummy/arduino-lib-builder-gcc.c.o
16.39 Compiling .pio/build/esp32c2/.dummy/arduino-lib-builder-cpp.cpp.o
16.40 Compiling .pio/build/esp32c2/.dummy/arduino-lib-builder-as.S.o
16.44 Generating LD script .pio/build/esp32c2/esp-idf/esp_system/ld/memory.ld.in
16.44 CMake Error at .pio/build/esp32c2/esp-idf/esp_system/ld/linker_script_generator.cmake:6 (message):
16.44   Can't generate .pio/build/esp32c2/esp-idf/esp_system/ld/memory.ld.in
16.44   RET_CODE: no such file or directory
16.44   ERROR_MESSAGE:
16.45 *** [.pio/build/esp32c2/esp-idf/esp_system/ld/memory.ld.in] Error 1
16.45 Generating LD script .pio/build/esp32c2/esp-idf/esp_system/ld/sections.ld.in
16.45 CMake Error at .pio/build/esp32c2/esp-idf/esp_system/ld/linker_script_generator.cmake:6 (message):
16.45   Can't generate .pio/build/esp32c2/esp-idf/esp_system/ld/sections.ld.in
16.45   RET_CODE: no such file or directory
16.45   ERROR_MESSAGE:
16.45 *** [.pio/build/esp32c2/esp-idf/esp_system/ld/sections.ld.in] Error 1
17.13 ========================= [FAILED] Took 17.00 seconds =========================
